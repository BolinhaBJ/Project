(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d222795"],{cf84:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("b-modal",{attrs:{id:"modal-lg-addFormaPagamento","header-bg-variant":"light",title:"Forma de Pagamento"},on:{ok:e.saveForma,hidden:e.resetModal},scopedSlots:e._u([{key:"modal-footer",fn:function(a){var r=a.ok,o=a.hide;return[t("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(e){return r()}}},[e._v(" Salvar ")]),t("b-button",{attrs:{size:"sm",variant:"outline-secondary"},on:{click:function(a){return e.limparProcedimento()}}},[e._v(" Novo ")]),t("b-button",{attrs:{size:"sm",variant:"outline-secondary"},on:{click:function(e){return o("forget")}}},[e._v(" Fechar ")])]}}])},[t("b-tabs",{attrs:{"content-class":"mt-3"},model:{value:e.tabIndex,callback:function(a){e.tabIndex=a},expression:"tabIndex"}},[t("b-tab",{attrs:{title:"Cadastro"}},[t("label",{staticClass:"mt-2"},[e._v("Descrição da Forma de Pagamento")]),t("b-form-input",{attrs:{size:"sm",type:"text",hidden:""},model:{value:e.formaPagamento.uuid,callback:function(a){e.$set(e.formaPagamento,"uuid",a)},expression:"formaPagamento.uuid"}}),t("b-form-input",{attrs:{size:"sm",type:"text"},model:{value:e.formaPagamento.descricao,callback:function(a){e.$set(e.formaPagamento,"descricao",a)},expression:"formaPagamento.descricao"}})],1),t("b-tab",{attrs:{title:"Pesquisar"}},[t("table",{staticClass:"table"},[t("thead",[t("tr",[t("th",{attrs:{scope:"col"}},[e._v("Descrição Forma de Pagamento")]),t("th",{attrs:{scope:"col"}},[e._v("Editar")]),t("th",{attrs:{scope:"col"}},[e._v("Excluir")])])]),t("tbody",e._l(e.formaPagamentoArr,(function(a){return t("tr",{key:a.uuid},[t("td",[e._v(e._s(a.descricao))]),t("td",[t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-lg",modifiers:{"modal-lg":!0}}],attrs:{pill:"",variant:"primary"},on:{click:function(t){return e.editar(a.descricao,a.uuid)}}},[e._v("Editar")])],1),t("td",[t("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-lg",modifiers:{"modal-lg":!0}}],attrs:{pill:"",variant:"primary"},on:{click:function(t){return e.deleteFormaDePagamento(a.uuid)}}},[e._v("Excluir")])],1)])})),0)])])],1)],1)},o=[],n=(t("96cf"),t("1da1")),s=t("ba79"),i={data:function(){return{tabIndex:0,formaPagamentoArr:[],formaPagamento:{uuid:"",descricao:""}}},created:function(){this.readFormaDePagamento()},methods:{showAlert:function(e,a){this.$swal({icon:e,title:a,showConfirmButton:!1,timer:2500})},editar:function(e,a){this.formaPagamento.descricao=e,this.formaPagamento.uuid=a,this.tabIndex=0},saveForma:function(e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.preventDefault(),t.prev=1,""!==a.formaPagamento.uuid){t.next=10;break}return t.next=5,s["a"].save(a.formaPagamento);case 5:return a.showAlert("success","Forma de Pagamento Salva com Sucesso"),a.resetModal(),a.readFormaDePagamento(),a.$emit("reloadForma"),t.abrupt("return");case 10:return t.next=12,s["a"].update(a.formaPagamento.uuid,a.formaPagamento);case 12:a.showAlert("success","Forma de Pagamento Atualizada com Sucesso"),a.resetModal(),a.readFormaDePagamento(),a.$emit("reloadForma"),t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](1),a.showAlert("error","Erro ao Salvar Forma de Pagamento");case 21:case"end":return t.stop()}}),t,null,[[1,18]])})))()},readFormaDePagamento:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var t;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s["a"].read();case 3:t=a.sent,e.formaPagamentoArr=t.data.formasPagamento,a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),e.showAlert("error","Ocorreu um erro ao listar Formas de Pagamento");case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},deleteFormaDePagamento:function(e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s["a"].delete(e);case 3:a.showAlert("success","Registro Deletado"),a.readFormaDePagamento(),a.$emit("reloadForma"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),409===t.t0.response.status?a.showAlert("info",t.t0.response.data.message):a.showAlert("error","erro ao deletar");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},resetModal:function(){this.formaPagamento={uuid:"",descricao:""}}}},c=i,m=t("2877"),u=Object(m["a"])(c,r,o,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d222795.770bab99.js.map