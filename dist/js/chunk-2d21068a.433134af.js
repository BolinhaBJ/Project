(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21068a"],{b886:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-modal",{attrs:{id:"modal-lg-addProcedimento","header-bg-variant":"light",title:"Novo Procedimento"},on:{ok:e.saveProcedimento,hidden:e.resetModalProcedimento},scopedSlots:e._u([{key:"modal-footer",fn:function(t){var r=t.ok,n=t.hide;return[o("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(e){return r()}}},[e._v(" Salvar ")]),o("b-button",{attrs:{size:"sm",variant:"outline-secondary"},on:{click:function(t){return e.limparProcedimento()}}},[e._v(" Novo ")]),o("b-button",{attrs:{size:"sm",variant:"outline-secondary"},on:{click:function(e){return n("forget")}}},[e._v(" Fechar ")])]}}])},[o("b-tabs",{attrs:{"content-class":"mt-3"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[o("b-tab",{attrs:{title:"Cadastro",active:""}},[o("label",{staticClass:"mt-2"},[e._v("Descrição do Procedimento")]),o("b-form-input",{attrs:{size:"sm",type:"text",hidden:""},model:{value:e.procedimento.uuid,callback:function(t){e.$set(e.procedimento,"uuid",t)},expression:"procedimento.uuid"}}),o("b-form-input",{attrs:{size:"sm",type:"text"},model:{value:e.procedimento.text,callback:function(t){e.$set(e.procedimento,"text",t)},expression:"procedimento.text"}})],1),o("b-tab",{attrs:{title:"Pesquisar"}},[o("table",{staticClass:"table"},[o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[e._v("Descrição Procedimento")]),o("th",{attrs:{scope:"col"}},[e._v("Editar")]),o("th",{attrs:{scope:"col"}},[e._v("Excluir")])])]),o("tbody",e._l(e.optionsPro,(function(t){return o("tr",{key:t.value},[o("td",[e._v(e._s(t.text))]),o("td",[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-lg",modifiers:{"modal-lg":!0}}],attrs:{pill:"",variant:"primary"},on:{click:function(o){return e.editarProcedimento(t.value)}}},[e._v("Editar")])],1),o("td",[o("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-lg",modifiers:{"modal-lg":!0}}],attrs:{pill:"",variant:"primary"},on:{click:function(o){return e.excluirProcedimento(t.value)}}},[e._v("Excluir")])],1)])})),0)])])],1)],1)},n=[],i=o("5530"),c=(o("159b"),o("c3e4")),a={save:function(e){return c["a"].post("/Procedimento",Object(i["a"])({},e))},readAll:function(){return c["a"].get("/Procedimento/readAll")},read:function(e){return c["a"].get("/Procedimento/read/".concat(e))},delete:function(e){return c["a"].delete("/Procedimento/".concat(e))},update:function(e,t){return c["a"].put("/Procedimento/".concat(t),Object(i["a"])({},e))}},d=o("2f62"),s={data:function(){return{optionsPro:[],tabIndex:0,procedimento:{uuid:"",text:"",value:""}}},computed:Object(i["a"])({},Object(d["c"])({procedimentoSelect:function(e){return e.procedimentoSelect}})),created:function(){this.readAllProcedimentos()},methods:{showAlert:function(e,t){this.$swal({icon:e,title:t,showConfirmButton:!1,timer:2500})},excluirProcedimento:function(e){var t=this;e?a.delete(e).then((function(){t.showAlert("success","Registro deletado com Sucesso"),t.readAllProcedimentos()})).catch((function(){t.showAlert("error","Erro ao Deletar Registro")})):this.showAlert("info","Selecione um Registro")},resetModalProcedimento:function(){this.procedimento={uuid:"",text:"",value:""}},procedimentoGenerate:function(e,t){return{text:e,value:t}},readAllProcedimentos:function(){var e=this;this.optionsPro=[],a.readAll().then((function(t){t.data.procedimento.forEach((function(t){e.optionsPro.push(e.procedimentoGenerate(t.text,t.uuid))})),console.log(e.optionsPro),e.$store.commit("procedimentoSelect",e.optionsPro)})).catch((function(){e.showAlert("error","Ocorreu um erro ao carregar procedimentos")}))},editarProcedimento:function(e){var t=this;console.log(e),a.read(e).then((function(e){201===e.status&&(t.procedimento.text=e.data.procedimento[0].text,t.procedimento.uuid=e.data.procedimento[0].uuid,t.procedimento.value=e.data.procedimento[0].value,t.tabIndex=0)})).catch((function(){t.showAlert("error","Erro ao carregar procedimento")}))},hide:function(){this.$emit("closeModal")},saveProcedimento:function(e){var t=this;e.preventDefault(),""!==this.procedimento.text?""===this.procedimento.uuid?(e.preventDefault(),this.procedimento.value=this.procedimento.text,a.save(this.procedimento).then((function(e){t.showAlert("success","Procedimento Salvo com Sucesso"),t.procedimento.uuid=e.data.uuid.uuid,t.$store.commit("procedimentoSelectPush",t.procedimento)})).catch((function(){t.showAlert("error","Erro ao salvar Procedimento")}))):(this.procedimento.value=this.procedimento.text,a.update(this.procedimento,this.procedimento.uuid).then((function(){t.showAlert("success","Procedimento Atualizado"),t.readAllProcedimentos()})).catch((function(){t.showAlert("error","Erro ao atualizar Procedimento")}))):this.showAlert("info","Informe a Descrição do Procedimento Por favor")}}},u=s,l=o("2877"),m=Object(l["a"])(u,r,n,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d21068a.433134af.js.map